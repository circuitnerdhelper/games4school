<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Open Site in about:blank via Proxy</title>
</head>
<body>
  <h2>Proxy Website Launcher</h2>
  <form id="siteForm">
    <input type="text" id="urlInput" placeholder="Enter website URL (https://...)" size="40" required>
    <button type="submit">Open</button>
  </form>

  <script>
    document.getElementById("siteForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let url = document.getElementById("urlInput").value.trim();

      if (!/^https?:\/\//i.test(url)) {
        url = "https://" + url;
      }

      // Open about:blank and embed proxy iframe
      let newWin = window.open("about:blank", "_blank");
      newWin.document.write(`
        <html>
          <head>
            <title>${url}</title>
            <style>
              body, html { margin:0; padding:0; height:100%; overflow:hidden; }
              iframe { border:none; width:100%; height:100%; }
            </style>
          </head>
          <body>
            <iframe src="http://localhost:3000/?url=${encodeURIComponent(url)}"></iframe>
          </body>
        </html>
      `);
      newWin.document.close();
    });
  </script>
</body>
</html>
